---
- name: ðŸ§¹ Stop old frontend container if running
  command: docker stop provertos_frontend
  ignore_errors: yes

- name: ðŸ”„ Remove old frontend container
  command: docker rm provertos_frontend
  ignore_errors: yes

- name: ðŸ§± Build frontend Docker image
  command: docker build -t provertos_frontend:latest ./frontend
  args:
    chdir: "{{ project_root }}"

- name: ðŸš€ Run frontend container
  command: >
    docker run -d --name provertos_frontend
    -p 3000:3000
    --link provertos_backend
    provertos_frontend:latest
