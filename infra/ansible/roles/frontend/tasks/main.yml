---
- name: ðŸ§¹ Stop old frontend container if running
  command: docker stop pro_frontend
  ignore_errors: yes

- name: ðŸ”„ Remove old frontend container
  command: docker rm pro_frontend
  ignore_errors: yes

- name: ðŸ§± Build frontend Docker image
  command: docker build -t pro_frontend:latest ./frontend
  args:
    chdir: "{{ project_root }}"

- name: ðŸš€ Run frontend container
  command: >
    docker run -d --name pro_frontend
    -p 3000:3000
    --link pro_backend
    pro_frontend:latest
